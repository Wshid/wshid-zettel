---
date: 2025-04-13
datetime: 2025-04-13 14:37:24
book: 프로그래밍의_규칙
page:
  - "104"
tags: 
references: 
aliases:
---
최적화?
- 어떤 코드 시스템을 더 빠르게
- 메모리 사용량이나 네트워크 대역폭, 또 다른 리소스 최적화
최적화를 좋아하는 이유
- 성공 여부를 판단하기 쉽기 때문
- 대부분의 코딩 작업은 성공 여부를 확인하기 어려움
- 하지만 최적화는, 무언가가 더 빨라지도록 개선하면 성공 여부 직접 판단이 가능함
- 코드량, 복잡성의 증가와 같은 성공의 대가 역시 마찬가지
	- 제대로 정의되지 않은 장기적인 혜택에 대한 염려,
	- 몇 년 후의 코드를 읽었을 때 그 코드를 바로 이해할 수 있는가에 대한 믿음은 최적화에 없음
- **즉각적이고 가시적인 결과만 있을 뿐**
모든 프로그래머가 알고 있는 금언
- **대부분(97%)의 경우 사소한 성능 향상을 잊어야 한다. 섣부른 최적화는 만악의 근원이다**
	- 이 당시 '사소한 성능 향상'은 컴파일러로 하여금 내가 원하는 코드를 생성하게 해주는 작은 꼼수를 의미
	- e.g. 포인터 캐싱, 함수 호출 비용을 아끼기 위한 매크로
하지만 현대 컴파일러는 단순하고 직관적인 코드로부터 올바른 기계 코드 작성 가능
- 오히려 코드에 기교를 부릴 수록 컴파일러는 우리가 의도하는 바를 알기 어려움
프로그래머는 본능적으로 자원에 대해 걱정함
- 자원: 시간, 저장소, 네트워크 대역폭..
이러한 걱정으로 프로그래머는 성능 문제가 나타나기도 전에 해결하려 듦

**단순한 로직과 더 나은 메모리 접근 패턴 > 알고리즘적인 효율성**
특정 함수를 수백번 호출한다고 해서 프로파일러는 전체 실행 시간에서 이 코드 실행시간이 매우 작다는걸 알려줌
오히려 시간 복잡도를 줄이려다, 메모리 할당을 한다면? 오히려 느려짐

## 첫번째 최적화 교훈
- 최적화하지 말라
- 코드를 최대한 단순하게 만들기
- 얼마나 빠르게 동작할지는 걱정하지 말 것. 어차피 코드는 충분히 빠를 것
- 그렇지 않더라도 단순한 코드를 빠르게 개선하는 것은 쉬움